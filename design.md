# 设计文档

## 架构

```
┌─────────────────────────────────────────┐
│           Electron Main Process         │
│  ┌─────────────┐  ┌──────────────────┐  │
│  │ Agent       │  │ Window Manager   │  │
│  │ Detector    │  │ (置顶/不隐藏)    │  │
│  └─────────────┘  └──────────────────┘  │
└─────────────────────────────────────────┘
          │ IPC
          ▼
┌─────────────────────────────────────────┐
│         Renderer Process (React)        │
│  ┌─────────────┐  ┌──────────────────┐  │
│  │ 方案A       │  │ 方案B            │  │
│  │ 悬浮窗      │  │ 桌面宠物         │  │
│  └─────────────┘  └──────────────────┘  │
└─────────────────────────────────────────┘
```

## Agent 状态检测方案

待调研：
1. Cursor 进程 CPU 使用率变化
2. Cursor 日志文件监控
3. 网络请求监控

## 显示方案

### 方案A - 悬浮窗
- 小圆形窗口，颜色表示状态
- 空闲：灰色
- 工作中：绿色闪烁

### 方案B - 桌面宠物
- 小机器人角色
- 空闲：待机动画
- 工作中：忙碌动画
